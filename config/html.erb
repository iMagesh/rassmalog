<%
=begin
  This is a template for generating HTML files for the blog.

  The following variables are available for use in this template:
  * BLOG         => data from the blog configuration file
  * LANG         => interface to translation file
  * PAGES        => an array of all available static web pages
  * ENTRIES      => an array of all available blog entries
  * TAGS         => a Chapter containing one Section per tag
  * ARCHIVES     => a Chapter containing one Section per archive
  * CHAPTERS     => an array of Chapter objects
  * PAGE_INDEX   => a PageIndex object
  * ENTRY_INDEX  => a EntryIndex object
  * SEARCH_INDEX => a SearchIndex object
  * @target      => object that represents the HTML page we are generating
  * @title       => title for the HTML page we are generating
  * @content     => body for the HTML page we are generating
=end
%>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=<%= BLOG.encoding %>" />
    <meta http-equiv="content-language" content="<%= BLOG.language %>" />
    <meta name="description" content="<%=h BLOG.info %>" />
    <meta name="date" content="<%= DateTime.now %>" />
    <meta name="author" content="<%=h BLOG.author %>" />
    <meta name="generator" content="<%= GENERATOR %>" />

    <link rel="alternate" type="application/rss+xml" href="rss.xml"
      title="RSS feed for this blog." />
    <link rel="stylesheet" type="text/css" href="styles/default.css" />

    <title><%= @title %> &mdash; <%= BLOG.name.to_html %></title>
  </head>
  <body>
    <!-- improves usability in text-mode browsers -->
    <div style="display: none">
      <a href="#content">Jump to content</a>
      <br/>
      <a href="#navigation">Jump to navigation</a>
      <br/>
      <a href="#menu">Jump to links</a>
      <hr/>
    </div>

    <div id="header">
      <h1 class="name"><%= BLOG.name.to_html %></h1>
      <div class="info"><%= BLOG.info.to_html %></div>
    </div>

    <!-- improves usability in text-mode browsers -->
    <br style="display: none"/>

    <div id="navigation">
      <a href="index.html"><%= LANG['Home'] %></a>
      &middot;
      <%= PAGE_INDEX.to_link %>
      &middot;
      <%= ENTRY_INDEX.to_link %>
      &middot;
      <%= TAGS.to_link %>
      &middot;
      <%= ARCHIVES.to_link %>
      &middot;
      <%= SEARCH_INDEX.to_link %>
      &middot;
      <a type="application/rss+xml" href="rss.xml"><img
        src="images/feed-icon-28x28.png" alt="RSS feed" /></a>
    </div>

    <div id="menu">
      <ul><%= BLOG.menu.to_html %></ul>
    </div>

    <!-- improves usability in text-mode browsers -->
    <hr style="display: none"/>

    <div id="content"><%= @content %></div>

    <!-- improves usability in text-mode browsers -->
    <hr style="display: none"/>

    <div id="footer">
      <% if BLOG.email %>
        Authored by <a href="<%= BLOG.email.to_url %>"><%= BLOG.author %></a>.
      <% else %>
        Authored by <%= BLOG.author %>.
      <% end %>
      <br/>
      Generated by <%= GENERATOR.to_link %>.
    </div>
  </body>
</html>
