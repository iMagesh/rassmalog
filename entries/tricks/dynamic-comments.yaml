name: Dynamic web-based comments

date: Tue Sep 25 20:43:07 PDT 2007

tags: tricks

text: |
  If you prefer web based comments instead of e-mail based comments, then simply add the "js-kit comments widget":http://js-kit.com/comments/ to your blog as illustrated by "the patch below":#Patch.

  Thanks to "Dave Scotto":http://www.yasgursfarm.us/d/2007-09-17-%E3%83%84%E3%83%83%E3%82%B3%E3%83%9F%E3%82%92%E8%A8%AD%E3%81%91%E3%81%A6%E3%81%BF%E3%82%8B.html for this fabulous tip!


  h1. Patch

  Apply this patch to your <tt>config/entry.erb</tt> template.

  <pre>
  --- old-rassmalog/config/entry.erb      2007-09-25 20:13:15.000000000 -0700
  +++ new-rassmalog/config/entry.erb      2007-09-25 20:13:15.000000000 -0700
  @@ -84,8 +84,9 @@
       <li>Tagged as <&#37;= @entry.tags.map {|t| t.to_link}.join(', ') &#37;>.</li>
       <&#37; end &#37;>

  -    <&#37; if BLOG.email &#37;>
  -    <li>You may <a href="<&#37;= @entry.comment_url &#37;>">comment on this entry</a>.</li>
  +    <&#37; unless reallySummarized &#37;>
  +    <div class="js-kit-comments" path="<&#37;= @entry.url &#37;>"></div>
  +    <script src="http://js-kit.com/comments.js"></script>
       <&#37; end &#37;>
     </ul>
   </div>
  </pre>


  h1. Demonstration

  Here is a demonstration of the dynamic commenting service mentioned above. Note that JavaScript is required in order to view this demonstration.

  <div class="js-kit-comments" path="<%= @entry.url %>"></div>
  <script type="text/javascript" src="http://js-kit.com/comments.js"></script>
